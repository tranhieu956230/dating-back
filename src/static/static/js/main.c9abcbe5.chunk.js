(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},13:function(e,t,a){e.exports=a.p+"static/media/profile.979eeb4a.jpg"},134:function(e,t,a){"use strict";a.r(t);var n=a(51),c=a.n(n),r=a(0),s=a.n(r),i=(a(64),a(1)),l=a(2),o=a(4),m=a(3),u=a(5),h=(a(65),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{className:"action"},s.a.createElement("div",{className:"action__info"},s.a.createElement("h2",{className:"action__person-name"},"Tr\u1ea7n \u0110\u1ee9c Hi\u1ebfu"),s.a.createElement("h4",{className:"action__person-status"},s.a.createElement("span",null),"Active now")),s.a.createElement("div",{className:"action__group"},s.a.createElement("div",{className:"action__video-call"},s.a.createElement("i",{className:"fa fa-video-camera","aria-hidden":"true"})),s.a.createElement("div",{className:"action__phone-call"},s.a.createElement("i",{className:"fa fa-phone","aria-hidden":"true"}))))}}]),t}(s.a.Component)),p=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"other-msg"},s.a.createElement("img",{src:this.props.profile_picture,alt:"",className:"other-msg__image"}),s.a.createElement("div",{className:"other-msg__main"},s.a.createElement("div",{className:"other-msg__info"},s.a.createElement("span",{className:"other-msg__name"},this.props.name," "),s.a.createElement("span",{className:"other-msg__timestamp"},this.props.timestamp)),s.a.createElement("p",{className:"other-msg__message"},this.props.message)))}}]),t}(s.a.Component),f=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(this.props.message),s.a.createElement("div",{className:"my-msg"},s.a.createElement("div",{className:"my-msg__main"},s.a.createElement("div",{className:"my-msg__info"},s.a.createElement("span",{className:"my-msg__timestamp"},this.props.timestamp)),s.a.createElement("p",{className:"my-msg__message",dangerouslySetInnerHTML:{__html:this.props.message}})))}}]),t}(s.a.Component),d=a(52),b=a.n(d),E=a(53),j=a.n(E),v=a(54),g=a.n(v)()("http://localhost:3000");var _=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={displayEmoji:!1,html:""},a.handleSubmit=function(e){e.preventDefault()},a.handleKeyDown=function(e){if(13==e.keyCode){var t=a.props.userInfo;e.stopPropagation(),n={msg:a.state.html,profile_picture:t.profile_picture,name:t.name,_id:t._id},g.emit("send-msg",n),a.setState({html:""})}var n},a.handleEmojiChange=function(e,t){a.setState(function(t){return{html:t.html+O(e)}})},a.handleClick=function(){a.state.displayEmoji?a.setState({displayEmoji:!1}):a.setState({displayEmoji:!0})},a.handleChange=function(e){e.target.value.indexOf("<br>")<0&&a.setState({html:e.target.value})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.displayEmoji?s.a.createElement(b.a,{onEmojiClick:this.handleEmojiChange}):null;return s.a.createElement("div",{className:"chat-bottom"},s.a.createElement("form",{action:"",className:"chat-window",onSubmit:this.handleSubmit},s.a.createElement(j.a,{innerRef:this.contentEditable,html:this.state.html,disabled:!1,onKeyDown:this.handleKeyDown,onChange:this.handleChange,tagName:"article",className:"chat-input"}),s.a.createElement("button",{className:"emoji-button",onClick:this.handleClick},s.a.createElement("i",{className:"fa fa-smile-o","aria-hidden":"true"}),e)))}}]),t}(s.a.Component),O=function(e){var t="https://cdn.jsdelivr.net/emojione/assets/3.0/png/32/".concat(e,".png");return'<img class="emoji" src='.concat(t,">")},y=_;a(100);var N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={messages:[]},a.componentDidMount=function(){var e;e=function(e){console.log(a.state.messages);var t=a.state.messages;t.unshift(e),a.setState({messages:t})},g.on("receive-msg",function(t){e(t)})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"dashboard"},s.a.createElement("div",{className:"dashboard-chat"},this.state.messages.map(function(t){return function(e,t){if(console.log(e),e._id==t._id)return s.a.createElement(f,{timestamp:t.timestamp,message:t.msg});return s.a.createElement(p,{profile_picture:t.profile_picture,name:t.name,timestamp:t.timestamp,message:t.msg})}(e.props.userInfo,t)})),s.a.createElement(y,{userInfo:this.props.userInfo}))}}]),t}(s.a.Component),k=(a(101),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{className:"chat"},s.a.createElement(h,{userInfo:this.props.userInfo}),s.a.createElement(N,{userInfo:this.props.userInfo}))}}]),t}(s.a.Component)),C=a(13),w=a.n(C),I=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("li",{className:"match-person"},s.a.createElement("img",{src:w.a,alt:"",className:"match-person__image"}),s.a.createElement("div",{className:"match-person__right"},s.a.createElement("h3",{className:"match-person__name"},"Tran Duc Hieu",s.a.createElement("span",{className:"match-person__status"})),s.a.createElement("p",{className:"match-person__recent-msg"},"Hello")))}}]),t}(s.a.Component),S=(a(102),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=100*(0-this.props.current);return s.a.createElement("div",{className:"match",style:A(e)},s.a.createElement("ul",{className:"match__list"},s.a.createElement(I,null),s.a.createElement(I,null),s.a.createElement(I,null),s.a.createElement(I,null)))}}]),t}(s.a.Component)),A=function(e){return e?{transform:"translateX(".concat(e,"%)"),opacity:0,visibility:"hidden"}:{transform:"translateX(".concat(e,"%)"),opacity:1,visibility:"visible"}},D=S,L=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("li",{className:"recent-person"},s.a.createElement("img",{src:w.a,alt:"",className:"recent-person__image"}),s.a.createElement("p",{className:"recent-person__recent-msg"},"Hello"))}}]),t}(s.a.Component),x=(a(103),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=100*(1-this.props.current);return s.a.createElement("div",{className:"recent",style:M(e)},s.a.createElement("ul",{className:"recent__list"},s.a.createElement(L,null),s.a.createElement(L,null),s.a.createElement(L,null),s.a.createElement(L,null),s.a.createElement(L,null),s.a.createElement(L,null),s.a.createElement(L,null),s.a.createElement(L,null),s.a.createElement(L,null)))}}]),t}(s.a.Component)),M=function(e){return e?{transform:"translateX(".concat(e,"%)"),opacity:0,visibility:"hidden"}:{transform:"translateX(".concat(e,"%)"),opacity:1,visibility:"visible"}},H=x,X=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).componentDidMount=function(){a.setState({id:a.props.id})},a.handleClick=function(e){a.props.handleClick(e.target.offsetLeft,e.target.offsetWidth,a.state.id)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.active,s.a.createElement("li",{className:"switch-tab__item",onClick:this.handleClick.bind(this)},this.props.name)}}]),t}(r.Component),T=(a(104),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{width:this.props.width,transform:"translateX(".concat(this.props.offset,"px)")},className:"selected"})}}]),t}(r.Component)),K=(a(105),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={offset:0,width:0},a.handleClick=function(e,t,n){a.setState({offset:e,width:t}),a.props.handleClick(n)},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"switch-tab"},s.a.createElement("ul",{className:"switch-tab__list"},s.a.createElement(T,{offset:this.state.offset,width:this.state.width}),["Matched","Recent"].map(function(t,a){return s.a.createElement(X,{key:a,active:a==e.state.active,name:t,id:a,handleClick:e.handleClick})})))}}]),t}(s.a.Component)),R=(a(106),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={current:0},a.handleClick=function(e){a.setState({current:e})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"chat-list"},s.a.createElement(K,{handleClick:this.handleClick}),s.a.createElement("div",{className:"chat-tab"},s.a.createElement(D,{current:this.state.current}),s.a.createElement(H,{current:this.state.current})))}}]),t}(s.a.Component));a(107);var B=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.userInfo;return s.a.createElement("section",{className:"aside"},s.a.createElement("div",{className:"profile"},function(e){if(e)return s.a.createElement("figure",{className:"profile__figure"},s.a.createElement("img",{src:e.profile_picture,alt:"profile picture",className:"profile__image"}),s.a.createElement("figcaption",{className:"profile__name"},e.name));return s.a.createElement("figure",{className:"profile__figure"},s.a.createElement("img",{src:w.a,alt:"profile picture",className:"profile__image"}),s.a.createElement("figcaption",{className:"profile__name"},"\xa0"))}(e)),s.a.createElement(R,null))}}]),t}(s.a.Component),F=a(55),J=a.n(F),q="http://localhost:3000/";var z=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={userInfo:{}},a.componentDidMount=function(){var e;(e=a.props.access_token,J()({method:"GET",url:"/user",baseURL:q,headers:{authorization:"Bearer "+e}}).then(function(e){return e.data})).then(function(e){e.success&&a.setState({userInfo:e.payload})})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(B,{userInfo:this.state.userInfo}),s.a.createElement(k,{userInfo:this.state.userInfo}))}}]),t}(s.a.Component),G=a(56),P=a(11),U=(a(126),"538073136708397"),W="http://localhost:3000/user/callback",Q="hello",V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).handleClick=function(){window.location.replace("https://www.facebook.com/v3.3/dialog/oauth?client_id=".concat(U,"&redirect_uri=").concat(W,"&state=").concat(Q))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=/login\?token=(.*)#_=_/.exec(window.location.href);return e&&this.props.handleLogin(e[1]),s.a.createElement("div",{className:"login"},s.a.createElement("button",{className:"login-button",onClick:this.handleClick},s.a.createElement("i",{className:"fa fa-facebook-square","aria-hidden":"true"}),"Login with Facebook"))}}]),t}(s.a.Component),Y=(a(127),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={access_token:""},a.handleLogin=function(e){a.setState({access_token:e}),localStorage.setItem("access_token",e)},a.componentDidMount=function(){var e=localStorage.getItem("access_token");e&&a.setState({access_token:e})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(G.a,null,s.a.createElement("div",{className:"container"},s.a.createElement(P.b,{path:"/"},s.a.createElement(P.d,null,s.a.createElement(P.b,{exact:!0,path:"/login",render:function(){return e.state.access_token?s.a.createElement(P.a,{to:"/home"}):s.a.createElement(V,{handleLogin:e.handleLogin})}}),s.a.createElement(P.b,{path:"/",render:function(){return e.state.access_token?s.a.createElement(z,{access_token:e.state.access_token}):s.a.createElement(P.a,{to:"/login"})}})))))}}]),t}(s.a.Component));c.a.render(s.a.createElement(Y,null),document.getElementById("root"))},59:function(e,t,a){e.exports=a(134)},65:function(e,t,a){},97:function(e,t){}},[[59,1,2]]]);
//# sourceMappingURL=main.c9abcbe5.chunk.js.map